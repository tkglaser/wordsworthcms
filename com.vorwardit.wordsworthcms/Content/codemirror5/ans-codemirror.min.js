function wrap(n,t){var i=n.getSelection();n.replaceSelection("<"+t+">"+i+"<\/"+t+">","end")}function wrapB(n,t){var i=$.trim(n.getSelection()).replace(/\s+/g," ");n.replaceSelection("<"+t+">"+i+"<\/"+t+">\n","end")}var cmSetHtml={mode:"text/html",tabSize:2,indentWithTabs:!0,lineNumbers:!0,lineWrapping:!0,autoCloseTags:!0,extraKeys:{"Ctrl-1":function(n){wrapB(n,"h1")},"Ctrl-2":function(n){wrapB(n,"h2")},"Ctrl-3":function(n){wrapB(n,"h3")},"Ctrl-4":function(n){wrapB(n,"h4")},"Ctrl-5":function(n){wrapB(n,"h5")},"Ctrl-6":function(n){wrapB(n,"h6")},"Ctrl-Enter":function(n){var t=n.getSelection();t=t.replace(/<\/?p>/g,"\n").replace(/^\s+|\s+$/g,"").replace(/[\t ]+/g," ").replace(/\s*\n\s*/g,"<\/p>\n\n<p>");n.replaceSelection("<p>"+t+"<\/p>","end")},"Shift-Enter":function(n){n.replaceSelection("<br/>\n","end")},F11:function(n){n.setOption("fullScreen",!n.getOption("fullScreen"))},Esc:function(n){n.getOption("fullScreen")&&n.setOption("fullScreen",!1)}}};!function(n){n(function(){n.fn.codemirror=function(n){var t=this;return this.each(function(){t=CodeMirror.fromTextArea(this,n)}),t};n(".form-codemirror").codemirror(cmSetHtml);n(".code-html").each(function(){var t=n(this),i=t.html(),r;t.empty();r=CodeMirror(this,{value:i,lineNumbers:!t.is(".inline"),mode:"text/html",tabSize:2,indentWithTabs:!0,lineWrapping:!0,viewportMargin:Infinity,readOnly:!0})})})}(window.jQuery);